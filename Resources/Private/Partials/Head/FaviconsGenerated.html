<!-- Light scheme from one master file -->
<f:variable name="sizes">{0: 16, 1: 32}</f:variable>

<f:if condition="{lightMaster}">
    <!-- ICO Fallback (optional, wenn du ICO nutzt, kannst du PNGs weglassen) -->
    <link rel="icon" type="image/x-icon" href="{lightIco}" media="(prefers-color-scheme: light)" />

    <!-- PNG sizes rendered from master -->
    <f:for each="{sizes}" as="s">
        <link
            rel="icon"
            type="image/png"
            sizes="{s}x{s}"
            media="(prefers-color-scheme: light)"
            href="{f:uri.image(src: lightMaster, width: s, height: s)}" />
    </f:for>

    <!-- Apple touch (from same master) -->
    <link
        rel="apple-touch-icon"
        sizes="180x180"
        media="(prefers-color-scheme: light)"
        href="{f:uri.image(src: lightMaster, width: 180, height: 180)}" />
</f:if>

<!-- Dark scheme (analog) -->
<f:if condition="{darkMaster}">
    <link rel="icon" type="image/x-icon" href="{darkIco}" media="(prefers-color-scheme: dark)" />
    <f:for each="{sizes}" as="s">
        <link
            rel="icon"
            type="image/png"
            sizes="{s}x{s}"
            media="(prefers-color-scheme: dark)"
            href="{f:uri.image(src: darkMaster, width: s, height: s)}" />
    </f:for>
    <link
        rel="apple-touch-icon"
        sizes="180x180"
        media="(prefers-color-scheme: dark)"
        href="{f:uri.image(src: darkMaster, width: 180, height: 180)}" />
</f:if>
